{"version":3,"sources":["component/api.ts","App.tsx","index.tsx"],"names":["getDataFromServer","url","fetch","then","response","json","App","useState","sortType","setSortType","todos","setTodos","loading","setLoading","error","setError","reversed","setReversed","handleLoadClick","a","todosFromServer","usersFromServer","todosWithUsers","map","todo","user","find","id","userId","visibleTodos","sort","b","title","localeCompare","completed","name","getVisibleTodos","reverse","length","type","onClick","key","checked","disabled","ReactDOM","render","document","getElementById"],"mappings":"iSAeMA,G,MAAoB,SAAIC,GAC5B,OAAOC,MAhBO,uCAgBSD,GACpBE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,YCgFhBC,EA5FH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACTC,EADS,KACCC,EADD,OAEUF,mBAAiB,IAF3B,mBAETG,EAFS,KAEFC,EAFE,OAGcJ,oBAAS,GAHvB,mBAGTK,EAHS,KAGAC,EAHA,OAIUN,mBAAS,IAJnB,mBAITO,EAJS,KAIFC,EAJE,OAKgBR,oBAAS,GALzB,mBAKTS,EALS,KAKCC,EALD,KAOVC,EAAe,uCAAG,gCAAAC,EAAA,6DACtBN,GAAW,GADW,kBDUIb,EAAwB,UCV5B,cAIdoB,EAJc,gBDQIpB,EAAwB,UCR5B,OAKdqB,EALc,OAOdC,EAAyBF,EAAgBG,KAAI,SAACC,GAAD,mBAAC,eAC/CA,GAD8C,IAEjDC,KAAMJ,EAAgBK,MAAK,SAAAD,GAAI,OAAIA,EAAKE,KAAOH,EAAKI,eAGtDjB,EAASW,GAZW,kDAcpBP,EAAS,kBAAD,cAdY,QAiBtBF,GAAW,GAjBW,0DAAH,qDAmCfgB,EAfkB,WACtB,OAAQrB,GACN,IAAK,QACH,OAAO,YAAIE,GAAOoB,MAAK,SAACX,EAAGY,GAAJ,OAAUZ,EAAEa,MAAMC,cAAcF,EAAEC,UAC3D,IAAK,YACH,OAAO,YAAItB,GAAOoB,MAAK,SAACX,EAAGY,GAAJ,OAAWZ,EAAEe,WAAaH,EAAEG,aACrD,IAAK,OACH,OAAO,YAAIxB,GAAOoB,MAAK,SAACX,EAAGY,GACzB,OAAQZ,EAAEM,MAAQM,EAAEN,KAAQN,EAAEM,KAAKU,KAAKF,cAAcF,EAAEN,KAAKU,MAAQ,KAGzE,QAAS,OAAOzB,GAIC0B,GAMrB,OAJIpB,GACFa,EAAaQ,UAIb,6BACE,qDAEE3B,EAAM4B,OAgBN,oCACE,4BAAQC,KAAK,SAASC,QAAS,kBAAMvB,GAAaD,KAAlD,WACA,4BAAQuB,KAAK,SAASC,QAAS,kBAAM/B,EAAY,WAAjD,iBACA,4BAAQ8B,KAAK,SAASC,QAAS,kBAAM/B,EAAY,eAAjD,qBACA,4BAAQ8B,KAAK,SAASC,QAAS,kBAAM/B,EAAY,UAAjD,gBACA,4BAAQ8B,KAAK,SAASC,QAAS,kBAAM/B,EAAY,MAAjD,SAEA,4BACGoB,EAAaN,KAAI,SAAAC,GAAI,OACpB,wBAAIiB,IAAKjB,EAAKG,IACZ,2BAAOY,KAAK,WAAWG,QAASlB,EAAKU,UAAWS,UAAQ,IAD1D,UAEMnB,EAAKQ,MAFX,SAIGR,EAAKC,KAAOD,EAAKC,KAAKU,KAAO,UAJhC,UAxBN,oCACE,4BAAQI,KAAK,SAASC,QAAStB,EAAiByB,SAAU/B,GACvDA,EAAU,aAAe,QAG3BE,GACC,oCACE,8BAAOA,GACP,4BAAQyB,KAAK,SAASC,QAAStB,EAAiByB,SAAU/B,GAA1D,iBC9DdgC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.89df92fb.chunk.js","sourcesContent":["const API_URL = 'https://jsonplaceholder.typicode.com';\n\nexport interface User {\n  id: number;\n  name: string;\n}\n\nexport interface Todo {\n  id: number;\n  title: string;\n  completed: boolean;\n  userId: number;\n  user?: User;\n}\n\nconst getDataFromServer = <T>(url: string): Promise<T[]> => {\n  return fetch(API_URL + url)\n    .then(response => response.json());\n};\n\nexport const getUsers = () => getDataFromServer<User>('/users');\n\nexport const getTodos = () => getDataFromServer<Todo>('/todos');\n","import React, { useState } from 'react';\nimport './App.css';\n\nimport { getUsers, getTodos, Todo } from './component/api';\n\nconst App = () => {\n  const [sortType, setSortType] = useState('');\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [reversed, setReversed] = useState(false);\n\n  const handleLoadClick = async () => {\n    setLoading(true);\n\n    try {\n      const todosFromServer = await getTodos();\n      const usersFromServer = await getUsers();\n\n      const todosWithUsers: Todo[] = todosFromServer.map((todo: Todo) => ({\n        ...todo,\n        user: usersFromServer.find(user => user.id === todo.userId),\n      }));\n\n      setTodos(todosWithUsers);\n    } catch (e) {\n      setError(`Loading error: ${e}`);\n    }\n\n    setLoading(false);\n  };\n\n  const getVisibleTodos = () => {\n    switch (sortType) {\n      case 'title':\n        return [...todos].sort((a, b) => a.title.localeCompare(b.title));\n      case 'completed':\n        return [...todos].sort((a, b) => +a.completed - +b.completed);\n      case 'user':\n        return [...todos].sort((a, b) => {\n          return (a.user && b.user) ? a.user.name.localeCompare(b.user.name) : 0;\n        });\n\n      default: return todos;\n    }\n  };\n\n  const visibleTodos = getVisibleTodos();\n\n  if (reversed) {\n    visibleTodos.reverse();\n  }\n\n  return (\n    <div>\n      <h1>Dynamic list of TODOs</h1>\n\n      {!todos.length ? (\n        <>\n          <button type=\"button\" onClick={handleLoadClick} disabled={loading}>\n            {loading ? 'Loading...' : 'Load'}\n          </button>\n\n          {error && (\n            <>\n              <span>{error}</span>\n              <button type=\"button\" onClick={handleLoadClick} disabled={loading}>\n                try again\n              </button>\n            </>\n          )}\n        </>\n      ) : (\n        <>\n          <button type=\"button\" onClick={() => setReversed(!reversed)}>Reverse</button>\n          <button type=\"button\" onClick={() => setSortType('title')}>Sort by title</button>\n          <button type=\"button\" onClick={() => setSortType('completed')}>Sort by completed</button>\n          <button type=\"button\" onClick={() => setSortType('user')}>Sort by user</button>\n          <button type=\"button\" onClick={() => setSortType('')}>Reset</button>\n\n          <ul>\n            {visibleTodos.map(todo => (\n              <li key={todo.id}>\n                <input type=\"checkbox\" checked={todo.completed} disabled />\n                {`${todo.title} `}\n                (\n                {todo.user ? todo.user.name : 'Unknown'}\n                )\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}